<!DOCTYPE html> 
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PromptVault</title>

<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
body{
    margin:0;
    font-family:'Outfit',sans-serif;
    background:#050816;
    color:white;
}

/* ================= NORMAL GRID ================= */

header{text-align:center;padding:30px;}
.nav-container{display:flex;gap:10px;justify-content:center;margin-bottom:10px;}
.nav-btn{background:#111;border:1px solid #333;color:white;padding:8px 15px;border-radius:20px;cursor:pointer}
.nav-btn.active{background:#22c55e;color:black}
.counter{color:#aaa;font-size:14px}

.container{max-width:1200px;margin:auto;padding:30px;display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px}

.card{background:#0f172a;border-radius:18px;padding:12px;border:1px solid #333}
.img-box img{width:100%;border-radius:12px}
.prompt-text{font-size:14px;color:#ccc;margin:10px 0}
.card-actions{display:flex;gap:10px}
.btn-action{flex:1;background:#111;border:1px solid #333;color:white;padding:8px;border-radius:20px;cursor:pointer}

/* ================= SHARE PAGE STYLE ================= */

.container.share-mode{
    grid-template-columns:1fr;
    max-width:1000px;
}

.share-layout{max-width:900px;margin:auto}

.share-card{
    background:#0f172a;
    padding:20px;
    border-radius:24px;
    display:grid;
    grid-template-columns:1.3fr 1fr;
    gap:20px;
    border:1px solid #333;
}

@media(max-width:900px){
    .share-card{grid-template-columns:1fr}
}

.share-image-wrap img{
    width:100%;
    border-radius:18px;
}

.share-content{
    display:flex;
    flex-direction:column;
    gap:12px;
}

.share-pill{
    font-size:12px;
    padding:4px 10px;
    border:1px solid #444;
    border-radius:999px;
    display:inline-block;
}

.share-title{
    font-size:22px;
    font-weight:600;
}

.share-prompt-box{
    background:#020617;
    padding:12px;
    border-radius:12px;
    font-size:14px;
    line-height:1.6;
    max-height:240px;
    overflow-y:auto;
}

.share-actions{
    display:flex;
    gap:10px;
    margin-top:10px;
}

.share-btn-primary{
    flex:1;
    background:#22c55e;
    color:black;
    border:none;
    border-radius:20px;
    padding:10px;
    font-weight:600;
    cursor:pointer;
}

.share-btn-secondary{
    flex:1;
    background:#111;
    color:white;
    border:1px solid #333;
    border-radius:20px;
    padding:10px;
    cursor:pointer;
}

.toast{
    position:fixed;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    background:white;
    color:black;
    padding:10px 20px;
    border-radius:20px;
    display:none;
}
.toast.show{display:block}
</style>
</head>

<body>

<header>
    <h1>PromptVault</h1>

    <nav class="nav-container">
        <button class="nav-btn active" onclick="filterCategory('midjourney')">Midjourney</button>
        <button class="nav-btn" onclick="filterCategory('nanobanana')">Nanobanana</button>
    </nav>

    <div class="counter" id="count-display"></div>
</header>

<main class="container" id="grid-area"></main>

<div class="toast" id="toast">Copied!</div>

<!-- âœ… YOUR PROMPT DATA FILE -->
<script src="prompts.js"></script>

<script>
const grid = document.getElementById('grid-area');
const countDisplay = document.getElementById('count-display');
const navContainer = document.querySelector('.nav-container');
const navBtns = document.querySelectorAll('.nav-btn');
const toast = document.getElementById('toast');

const urlParams = new URLSearchParams(window.location.search);
const sharedId = urlParams.get('id');

if(sharedId){
    renderSharedCard(sharedId);
}else{
    renderPrompts('midjourney');
}

function renderSharedCard(id){
    const data = allPrompts.find(p=>p.id==id);
    navContainer.style.display="none";
    grid.classList.add('share-mode');

    grid.innerHTML=`
    <section class="share-layout">
        <article class="share-card">
            <div class="share-image-wrap">
                <img src="${data.image}">
            </div>

            <div class="share-content">
                <span class="share-pill">${data.category}</span>
                <h2 class="share-title">Style Prompt</h2>

                <div class="share-prompt-box">${data.prompt}</div>

                <div class="share-actions">
                    <button class="share-btn-primary" onclick="copyText('${data.prompt}')">
                        <i class="fa-regular fa-copy"></i> Copy Prompt
                    </button>

                    <button class="share-btn-secondary" onclick="copyText(window.location.href)">
                        <i class="fa-solid fa-share"></i> Copy Share Link
                    </button>
                </div>
            </div>
        </article>
    </section>`;
}

function renderPrompts(category){
    navBtns.forEach(btn=>{
        btn.classList.toggle("active", btn.innerText.toLowerCase()==category)
    });

    const filtered = allPrompts.filter(p=>p.category===category);
    countDisplay.innerText = filtered.length+" Prompts";

    grid.innerHTML = filtered.map(item=>`
    <div class="card">
        <div class="img-box"><img src="${item.image}"></div>
        <div class="prompt-text">${item.prompt}</div>
        <div class="card-actions">
            <button class="btn-action" onclick="copyText('${item.prompt}')">Copy</button>
            <button class="btn-action" onclick="shareCard(${item.id})">Share</button>
        </div>
    </div>`).join("");
}

function filterCategory(cat){
    renderPrompts(cat);
}

function shareCard(id){
    const link = window.location.origin + window.location.pathname + "?id=" + id;
    copyText(link);
}

function copyText(text){
    navigator.clipboard.writeText(text);
    toast.classList.add("show");
    setTimeout(()=>toast.classList.remove("show"),2000);
}
</script>

</body>
</html>
